51
4, 10, 11, 12, 13, 14, 14, 14, 15, 16, 17, 18, 19, 20, 20, 20, 21, 22, 22, 23, 24, 25, 26, 30, 31, 32, 33, 34, 34, 34, 35, 36, 37, 38, 39, 39, 40, 41, 42, 42, 43, 43, 43, 44, 45, 45, 46, 47, 48, 49, 50
#include <iostream>
#include <cstring>
#include <set>
using namespace std;

int symbol[110], P, N;
set<int> s;

int solve(int n)
{
	int i, cnt = 0;
	s.clear();
	for (i = 0; i < N; i++)
	{
		int t = n & symbol[i];
		if (s.count(t)) break;
		s.insert(t);
	}
	if (i == N)
	{
		for (int j = 0; j < P; j++)
			if (n & 1<<j)
				cnt++;
		return cnt;
	}
	return P+1;
}

int main(void)
{
	int kase, temp;
	cin >> kase;
	while (kase-- && cin >> P >> N)
	{
		memset(symbol, 0, sizeof(symbol));
		for (int i = 0; i < N; i++)
			for (int j = P-1; j >= 0; j--) {
				cin >> temp;
				symbol[i] |= temp<<j;
			}
		int min = P + 1;
		for (int i = 1; i < 1<<P; i++)
		{
			int n = solve(i);
			min = min<n ? min : n;
		}
		cout << min << endl;
	}
	return 0;
}